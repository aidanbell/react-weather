(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{144:function(e,t,a){e.exports=a(259)},149:function(e,t,a){},151:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(130),s=a.n(r),l=(a(149),a(30)),o=a.n(l),c=a(17),u=a(18),h=a(20),d=a(19),p=a(21);a(57),a(151);var m=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).weatherCard=function(){},a.state={currentWeather:null,loaded:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"display"},i.a.createElement("div",{className:"current-weather"},i.a.createElement("div",{className:"left"},i.a.createElement("i",{className:this.props.icon}),this.props.currentWeather&&i.a.createElement("h2",null,this.props.currentWeather.weather[0].description)),this.props.currentWeather&&i.a.createElement("div",{className:"right"},i.a.createElement("h1",null,this.props.currentWeather.main.temp," \xb0","metric"===this.props.units?"C":"F"),i.a.createElement("h2",null,"Feels Like ",this.props.currentWeather.main.feels_like," \xb0","metric"===this.props.units?"C":"F"))))}}]),t}(n.Component),b=a(68),f={200:{label:"thunderstorm with light rain",icon:"storm-showers"},201:{label:"thunderstorm with rain",icon:"storm-showers"},202:{label:"thunderstorm with heavy rain",icon:"storm-showers"},210:{label:"light thunderstorm",icon:"storm-showers"},211:{label:"thunderstorm",icon:"thunderstorm"},212:{label:"heavy thunderstorm",icon:"thunderstorm"},221:{label:"ragged thunderstorm",icon:"thunderstorm"},230:{label:"thunderstorm with light drizzle",icon:"storm-showers"},231:{label:"thunderstorm with drizzle",icon:"storm-showers"},232:{label:"thunderstorm with heavy drizzle",icon:"storm-showers"},300:{label:"light intensity drizzle",icon:"sprinkle"},301:{label:"drizzle",icon:"sprinkle"},302:{label:"heavy intensity drizzle",icon:"sprinkle"},310:{label:"light intensity drizzle rain",icon:"sprinkle"},311:{label:"drizzle rain",icon:"sprinkle"},312:{label:"heavy intensity drizzle rain",icon:"sprinkle"},313:{label:"shower rain and drizzle",icon:"sprinkle"},314:{label:"heavy shower rain and drizzle",icon:"sprinkle"},321:{label:"shower drizzle",icon:"sprinkle"},500:{label:"light rain",icon:"rain"},501:{label:"moderate rain",icon:"rain"},502:{label:"heavy intensity rain",icon:"rain"},503:{label:"very heavy rain",icon:"rain"},504:{label:"extreme rain",icon:"rain"},511:{label:"freezing rain",icon:"rain-mix"},520:{label:"light intensity shower rain",icon:"showers"},521:{label:"shower rain",icon:"showers"},522:{label:"heavy intensity shower rain",icon:"showers"},531:{label:"ragged shower rain",icon:"showers"},600:{label:"light snow",icon:"snow"},601:{label:"snow",icon:"snow"},602:{label:"heavy snow",icon:"snow"},611:{label:"sleet",icon:"sleet"},612:{label:"shower sleet",icon:"sleet"},615:{label:"light rain and snow",icon:"rain-mix"},616:{label:"rain and snow",icon:"rain-mix"},620:{label:"light shower snow",icon:"rain-mix"},621:{label:"shower snow",icon:"rain-mix"},622:{label:"heavy shower snow",icon:"rain-mix"},701:{label:"mist",icon:"sprinkle"},711:{label:"smoke",icon:"smoke"},721:{label:"haze",icon:"day-haze"},731:{label:"sand, dust whirls",icon:"cloudy-gusts"},741:{label:"fog",icon:"fog"},751:{label:"sand",icon:"cloudy-gusts"},761:{label:"dust",icon:"dust"},762:{label:"volcanic ash",icon:"smog"},771:{label:"squalls",icon:"day-windy"},781:{label:"tornado",icon:"tornado"},800:{label:"clear sky",icon:"sunny"},801:{label:"few clouds",icon:"cloudy"},802:{label:"scattered clouds",icon:"cloudy"},803:{label:"broken clouds",icon:"cloudy"},804:{label:"overcast clouds",icon:"cloudy"},900:{label:"tornado",icon:"tornado"},901:{label:"tropical storm",icon:"hurricane"},902:{label:"hurricane",icon:"hurricane"},903:{label:"cold",icon:"snowflake-cold"},904:{label:"hot",icon:"hot"},905:{label:"windy",icon:"windy"},906:{label:"hail",icon:"hail"},951:{label:"calm",icon:"sunny"},952:{label:"light breeze",icon:"cloudy-gusts"},953:{label:"gentle breeze",icon:"cloudy-gusts"},954:{label:"moderate breeze",icon:"cloudy-gusts"},955:{label:"fresh breeze",icon:"cloudy-gusts"},956:{label:"strong breeze",icon:"cloudy-gusts"},957:{label:"high wind, near gale",icon:"cloudy-gusts"},958:{label:"gale",icon:"cloudy-gusts"},959:{label:"severe gale",icon:"cloudy-gusts"},960:{label:"storm",icon:"thunderstorm"},961:{label:"violent storm",icon:"thunderstorm"},962:{label:"hurricane",icon:"cloudy-gusts"}};function v(e,t){var a=f[e].icon;return e>699&&e<800||e>899&&e<1e3||(a=t+"-"+a),800===e&&"night"===t&&(a=t+"-clear"),a="wi wi-"+a}var y=a(268),g=a(273),w=a(266),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={temps:a.getTemps(),feels:a.getFeels()},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getTemps",value:function(){var e=[];return this.props.data.map((function(t,a){e.push({x:t.dt_txt.slice(11,16),y:t.main.temp})})),e}},{key:"getFeels",value:function(){var e=[];return this.props.data.map((function(t,a){e.push({x:t.dt_txt.slice(11,16),y:t.main.feels_like})})),e}},{key:"render",value:function(){return i.a.createElement(y.a,null,i.a.createElement(g.a,{x:"",maxDomain:{y:10},style:{data:{strokeWidth:3,fillOpacity:.4}}},i.a.createElement(w.a,{interpolation:"natural",style:{data:{fill:"cyan",stroke:"cyan"}},data:this.state.temps}),i.a.createElement(w.a,{interpolation:"natural",style:{data:{fill:"magenta",stroke:"magenta"}},data:this.state.feels})))}}]),t}(n.Component),j=(a(256),function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"front"},i.a.createElement("h2",null,this.props.date),i.a.createElement("i",{className:this.props.icon}),i.a.createElement("h3",null,this.props.avgs&&this.props.avgs.temp," \xb0","metric"===this.props.units?"C":"F"))}}]),t}(n.Component)),E=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.map((function(t){var a=parseInt(t.dt_txt.slice(11,13));return a=a<6||a>19?"night":"day",i.a.createElement("div",{className:"report-card"},i.a.createElement("p",null,t.dt_txt.slice(11,16)),i.a.createElement("p",null,Math.round(10*t.main.temp)/10," \xb0","metric"===e.props.units?"C":"F"),i.a.createElement("p",null,"(",Math.round(10*t.main.feels_like)/10," \xb0","metric"===e.props.units?"C":"F",")"),i.a.createElement("i",{className:v(t.weather[0].id,a)}))}));return i.a.createElement("div",{className:"back"},i.a.createElement("div",{className:"back-days"},t),i.a.createElement("div",{className:"graph"},i.a.createElement(k,{data:this.props.data})))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).flip=function(){a.setState({flipped:!a.state.flipped})},a.getAvgTemp=function(){if(!a.state.avgs){var e={temp:0,feels_like:0,humidity:0,pressure:0};return a.props.data.map((function(t){e.temp+=t.main.temp,e.feels_like+=t.main.feels_like,e.humidity+=t.main.humidity,e.pressure+=t.main.pressure})),e.temp=Math.round(e.temp/7*10)/10,e.feels_like=Math.round(e.feels_like/7*10)/10,e.humidity=Math.round(e.humidity/7*10)/10,e.pressure=Math.round(e.pressure/7*10)/10,e}},a.getDateString=function(){if(!a.state.date){var e=new Date(0);e.setUTCSeconds(a.props.data[0].dt),e=e.toString().slice(0,10),a.setState({date:e})}},a.state={avgs:null,icon:null,text:a.props.data[0].dt_txt,flipped:!1},a.flip=a.flip.bind(Object(b.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(v(this.props.data[0].weather[0].id,"day"));case 2:e=a.sent,t=this.getAvgTemp(),this.setState({avgs:t,icon:e});case 5:case"end":return a.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(){this.getAvgTemp(),this.getDateString()}},{key:"render",value:function(){return i.a.createElement("div",{onMouseEnter:this.flip,onMouseLeave:this.flip,className:"card-container"+(this.state.flipped?" flipped":"")},i.a.createElement(j,{avgs:this.state.avgs,icon:this.state.icon,units:this.props.units,date:this.state.date}),i.a.createElement(E,{data:this.props.data,units:this.props.units}))}}]),t}(n.Component),z=(a(257),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).splitDays=function(e){var t=[],n=[],i=null;e.map((function(e){null===i&&(i=e.dt_txt.slice(8,10)),e.dt_txt.slice(8,10)===i?n.push(e):(t.push(n),n=[],i=e.dt_txt.slice(8,10))})),a.setState({days:t})},a.state={indivHrs:null,days:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){if(!this.state.indivHrs){var e=[];this.props.forecast.list.map((function(t){e.push(t)})),this.setState({indivHrs:e}),console.log("just set hours")}!this.state.days&&this.state.indivHrs&&this.splitDays(this.state.indivHrs)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"forecast"},this.state.days?this.state.days.map((function(t,a){return i.a.createElement(O,{data:t,units:e.props.units})})):i.a.createElement("h1",null,"loading"))}}]),t}(n.Component));function x(e,t,a){var n="https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&units=").concat(a,"&appid=f610830a383051d4b21cd59f0ad5f08a");return fetch(n,{mode:"cors"}).then((function(e){return e.json()}))}function _(e,t,a){var n="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e,"&lon=").concat(t,"&units=").concat(a,"&appid=f610830a383051d4b21cd59f0ad5f08a");return fetch(n,{mode:"cors"}).then((function(e){return e.json()}))}a(258);var C=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={lat:null,lng:null,units:"metric"},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,i,r;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,o.a.awrap(new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){return e({lat:t.coords.latitude,lng:t.coords.longitude})}))})));case 2:return e=s.sent,t=e.lat,a=e.lng,s.next=7,o.a.awrap(x(t,a,this.state.units));case 7:return n=s.sent,s.next=10,o.a.awrap(_(t,a,this.state.units));case 10:return i=s.sent,s.next=13,o.a.awrap(v(n.weather[0].id,"day"));case 13:r=s.sent,this.setState({lat:t,lng:a,weatherData:n,icon:r,forecast:i});case 15:case"end":return s.stop()}}),null,this)}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"weather"),i.a.createElement(m,{currentWeather:this.state.weatherData,icon:this.state.icon,units:this.state.units}),i.a.createElement(z,{forecast:this.state.forecast,units:this.state.units}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[144,1,2]]]);
//# sourceMappingURL=main.ef7771d7.chunk.js.map